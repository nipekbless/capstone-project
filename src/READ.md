### npm install -save-dev @types/express@4.17.1

## Typescript installation
* npm install -g typescript

## Version
* tsc --version

## Compile or run typescript
* tsc app.ts 
* After it complie, it will generate javascript file like app.js 
* Then run node app.js that was generated and everything works
* compile -> tsc app.ts
* execute -> node app.js

## Another aproach 
### Install tsc node
* npm install -g ts-node
## To compile and execute typescript direct
* ts-node app.ts || 
* compile -> tsc app.ts and then execute -> node index.js
* npm run dev (Run commands)
* npm start


### Initial install 
* npm init --yes
* tsc --init
* npm install @types/node
* npm install -save-dev @types/express@4.17.1 (Dev Dependecy)



The URL Shortener API allows you to convert long URLs into shorter, more manageable versions. It provides a simple and efficient way to generate short URLs for sharing on various platforms.

**End Points**

- `POST /Api/shorten`
- `POST /Api/shortenurl`
- `GET /:url`
- `POST /Api/qrcode`
- `PUT /customurl/:shortId`
- `GET /Api/getuserurls`


**Authentication**
To signup a user, make a POST request to `/Api/signup` endpoint with the following parameters in JSON format in the body of request:

- `first_name`: firstname 
- `last_name`:lastname
- `email`:email
- `password`: password

To signin a user, make a POST request to `/Api/signin` endpoint with the following parameters in JSON format in the body of request:

- `email`:email
- `password`: password

the signin endpoint returns Bearer token in json format as:

- `token`: Bearer token

To reset a user password, make a POST request to `/Api/resetpassword` endpoint with the following parameters in JSON format in the body of request:

- `email`:email
- `newPassword`:New password


The API requires API key authentication. You need to include your API key as a header (`X-API-Key`) in all API requests but "POST /Api/shorten".

**Request Format**

To shorten a URL, make a `POST` request to the `/Api/shorten` endpoint with the following parameter in the body of request:

- `originalURL` (required): The long URL to be shortened.

To shorten a URL by an authorised user, make a `POST` request to the `/Api/shortenurl` endpoint with the following parameter in the body of request:

- `originalURL` (required): The long URL to be shortened.

To redirect a shortened url, make a `GET` request to the `/:url` endpoint with the quert parameter:
-`url`: the generated shortId

To generate QRcode by an authorised user, make a `POST` request to the `/Api/qrcode` endpoint with the following parameters:

- `shortUrl`: The generated short url.

To customise short url generated by an authorised user, make a `PUT` request to the `/customurl/:shortId` endpoint with the following query parameter:

- `shortId`: The new custom tag.

To get all the short urls generated by a particular user(authorised) , make a `GET` request to the `/Api/getuserurls` endpoint.






**Response Format**

The API response for a `POST` request to the `/Api/shorten` endpoint will be  with a JSON object containing the following information:
- `completeUrl`: The shortened URL

The API response for a `POST` request to the `/Api/shortenurl` endpoint will be  with a JSON object containing the following information:
- `completeUrl`: The shortened URL

The API response for a `Get` request to the `/:url` endpoint will beoriginal url page

The API response for a `POST` request to the `/Api/qrcode` endpoint will be  with a JSON object containing the following information:
- `qrCodeUrl`: The url to the qrc in the cloud

The API response for a `PUT` request to the `/customurl/:shortId` endpoint will be  with a JSON object containing the following information:
- `shortUrl`: The customised shortened URL

The API response for a `GET` request to the `/Api/getuserurls` endpoint will be  with a JSON object containing the following information:

- `urlInfo`: [{originalURL:original url},{shortUrl:shortened or customised url},{ createdAt:Date url was created},{clicks:number of clicks},{referringSources: the pages where the request is coming from},{lastClickedAtL:time last clicked}]




**Error Handling**

In case of errors, the API will respond with appropriate HTTP status codes and error messages in the response body. Common error codes include:

- `400 Bad Request`: Invalid or missing parameters.
- `401 Unauthorized`: Failed authentication.
- `404 Not Found`: The requested short URL does not exist.

**Rate Limiting**

To prevent abuse, the API enforces rate limiting. Each API key is limited to 100 requests per hour. If the limit is exceeded, a `429 Too Many Requests` response will be returned.


